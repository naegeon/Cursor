<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문의 관리 | 관리자 대시보드</title>
    <meta name="description" content="관리자 문의 관리 페이지">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4e73df;
            --secondary-color: #858796;
            --success-color: #1cc88a;
            --info-color: #36b9cc;
            --warning-color: #f6c23e;
            --danger-color: #e74a3b;
            --light-color: #f8f9fc;
            --dark-color: #5a5c69;
            --sidebar-width: 250px;
            --sidebar-collapsed-width: 90px;
            --transition-speed: 0.3s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f9fc;
            display: flex;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* 사이드바 스타일 */
        #sidebar {
            width: var(--sidebar-width);
            background: linear-gradient(180deg, var(--primary-color) 0%, #224abe 100%);
            color: white;
            transition: width var(--transition-speed);
            height: 100vh;
            position: fixed;
            overflow-y: auto;
            z-index: 100;
        }

        #sidebar.collapsed {
            width: var(--sidebar-collapsed-width);
        }

        .sidebar-brand {
            padding: 1.5rem 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-brand h2 {
            font-size: 1.2rem;
            text-align: center;
            transition: opacity var(--transition-speed);
        }

        #sidebar.collapsed .sidebar-brand h2 {
            opacity: 0;
            width: 0;
            height: 0;
            overflow: hidden;
        }

        .sidebar-menu {
            padding: 1rem 0;
            list-style: none;
        }

        .sidebar-menu li {
            margin-bottom: 0.5rem;
        }

        .sidebar-menu a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            display: flex;
            align-items: center;
            transition: all var(--transition-speed);
        }

        .sidebar-menu a:hover {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .sidebar-menu a.active {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border-left: 4px solid white;
        }

        .sidebar-menu i {
            margin-right: 0.75rem;
            font-size: 1.1rem;
            width: 20px;
            text-align: center;
        }

        #sidebar.collapsed .menu-text {
            opacity: 0;
            width: 0;
            height: 0;
            overflow: hidden;
        }

        /* 메인 콘텐츠 스타일 */
        #main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            transition: margin-left var(--transition-speed);
            padding: 1rem;
        }

        #main-content.expanded {
            margin-left: var(--sidebar-collapsed-width);
        }

        .main-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #e3e6f0;
        }

        .page-title {
            font-size: 1.5rem;
            color: var(--dark-color);
            display: flex;
            align-items: center;
        }

        .page-title i {
            margin-right: 0.5rem;
            color: var(--primary-color);
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }

        /* 카드 스타일 */
        .card {
            background-color: white;
            border-radius: 0.35rem;
            box-shadow: 0 0.15rem 1.75rem rgba(0, 0, 0, 0.15);
            margin-bottom: 1.5rem;
        }

        .card-header {
            padding: 1rem 1.25rem;
            border-bottom: 1px solid #e3e6f0;
            background-color: #f8f9fc;
            border-radius: 0.35rem 0.35rem 0 0;
        }

        .card-body {
            padding: 1.25rem;
        }

        /* 반응형 스타일 */
        @media (max-width: 992px) {
            #sidebar {
                width: var(--sidebar-collapsed-width);
            }

            #sidebar .menu-text {
                opacity: 0;
                width: 0;
                height: 0;
                overflow: hidden;
            }

            #main-content {
                margin-left: var(--sidebar-collapsed-width);
            }

            #main-content.expanded {
                margin-left: var(--sidebar-width);
            }

            #sidebar.collapsed {
                width: 0;
            }

            #main-content.expanded {
                margin-left: 0;
            }
        }

        @media (max-width: 768px) {
            .action-buttons {
                flex-direction: column;
                width: 100%;
                gap: 0.5rem;
                margin-top: 1rem;
            }

            .main-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        @media (max-width: 576px) {
            #main-content {
                padding: 0.5rem;
            }
        }

        /* 버튼 스타일 */
        .btn {
            display: inline-block;
            font-weight: 500;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            border: 1px solid transparent;
            padding: 0.375rem 0.75rem;
            font-size: 0.875rem;
            line-height: 1.5;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }

        .btn-primary {
            color: white;
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-primary:hover {
            background-color: #2e59d9;
            border-color: #2653d4;
        }

        .btn-success {
            color: white;
            background-color: var(--success-color);
            border-color: var(--success-color);
        }

        .btn-success:hover {
            background-color: #17a673;
            border-color: #169b6b;
        }

        .btn-danger {
            color: white;
            background-color: var(--danger-color);
            border-color: var(--danger-color);
        }

        .btn-danger:hover {
            background-color: #e02d1b;
            border-color: #d52a1a;
        }

        .btn-secondary {
            color: white;
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .btn-secondary:hover {
            background-color: #717384;
            border-color: #6b6d7d;
        }
        
        /* 테이블 스타일 */
        .table-container {
            overflow-x: auto;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }
        
        .table th,
        .table td {
            padding: 0.75rem;
            vertical-align: middle;
            border-bottom: 1px solid #e3e6f0;
        }
        
        .table th {
            background-color: #f8f9fc;
            color: var(--dark-color);
            font-weight: 500;
            text-align: left;
        }
        
        .table tbody tr:hover {
            background-color: rgba(0, 0, 0, 0.02);
        }
        
        .table-action {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }
        
        .view-btn,
        .delete-btn {
            display: inline-flex;
            align-items: center;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            border-radius: 0.2rem;
        }
        
        .view-btn {
            color: white;
            background-color: var(--primary-color);
        }
        
        .view-btn:hover {
            background-color: #2e59d9;
        }
        
        .delete-btn {
            color: white;
            background-color: var(--danger-color);
        }
        
        .delete-btn:hover {
            background-color: #e02d1b;
        }
        
        /* 필터 스타일 */
        .filter-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .filter-item {
            flex: 1;
            min-width: 150px;
        }
        
        .filter-item label {
            display: block;
            margin-bottom: 0.25rem;
            font-weight: 500;
            font-size: 0.875rem;
        }
        
        .filter-item select,
        .filter-item input {
            width: 100%;
            padding: 0.375rem 0.75rem;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            font-size: 0.875rem;
        }
        
        /* 상태 배지 */
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 500;
            text-align: center;
        }
        
        .status-new {
            background-color: var(--info-color);
            color: white;
        }
        
        .status-inprogress {
            background-color: var(--warning-color);
            color: white;
        }
        
        .status-resolved {
            background-color: var(--success-color);
            color: white;
        }
        
        /* 페이지네이션 */
        .pagination {
            display: flex;
            justify-content: center;
            margin-top: 1.5rem;
            list-style: none;
            padding: 0;
        }
        
        .pagination li {
            margin: 0 0.25rem;
        }
        
        .pagination a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            border-radius: 0.25rem;
            text-decoration: none;
            color: var(--primary-color);
            border: 1px solid #e3e6f0;
            transition: all 0.2s;
        }
        
        .pagination a:hover {
            background-color: #eaecf4;
        }
        
        .pagination a.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* 모달 스타일 */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            display: none;
        }
        
        .modal {
            background-color: white;
            border-radius: 0.5rem;
            width: 100%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }
        
        .modal-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e3e6f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .modal-title {
            font-size: 1.25rem;
            font-weight: 500;
            margin: 0;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark-color);
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid #e3e6f0;
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }
        
        /* 문의 상세 보기 스타일 */
        .inquiry-details {
            margin-bottom: 1.5rem;
        }
        
        .inquiry-meta {
            margin-bottom: 1.5rem;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .meta-item {
            margin-bottom: 0.5rem;
        }
        
        .meta-label {
            font-weight: 500;
            color: var(--dark-color);
            margin-bottom: 0.25rem;
        }
        
        .inquiry-content {
            background-color: #f8f9fc;
            padding: 1rem;
            border-radius: 0.25rem;
            margin-bottom: 1.5rem;
        }
        
        .inquiry-images {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .inquiry-image {
            width: 150px;
            height: 150px;
            object-fit: cover;
            border-radius: 0.25rem;
            border: 1px solid #e3e6f0;
            cursor: pointer;
        }
        
        .inquiry-response {
            margin-top: 2rem;
        }
        
        .response-form label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .response-form textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            min-height: 150px;
            resize: vertical;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <!-- 사이드바 -->
    <div id="sidebar">
        <div class="sidebar-brand">
            <h2>관리자 대시보드</h2>
        </div>
        <ul class="sidebar-menu">
            <li>
                <a href="admin-menu.html">
                    <i class="fas fa-tachometer-alt"></i>
                    <span class="menu-text">대시보드</span>
                </a>
            </li>
            <li>
                <a href="admin-blog.html">
                    <i class="fas fa-blog"></i>
                    <span class="menu-text">블로그 관리</span>
                </a>
            </li>
            <li>
                <a href="admin-blog-category.html">
                    <i class="fas fa-tags"></i>
                    <span class="menu-text">블로그 카테고리</span>
                </a>
            </li>
            <li>
                <a href="admin-qna.html">
                    <i class="fas fa-question-circle"></i>
                    <span class="menu-text">Q&A 관리</span>
                </a>
            </li>
            <li>
                <a href="admin-qna-category.html">
                    <i class="fas fa-folder"></i>
                    <span class="menu-text">Q&A 카테고리</span>
                </a>
            </li>
            <li>
                <a href="admin-inquiry.html" class="active">
                    <i class="fas fa-envelope"></i>
                    <span class="menu-text">문의 관리</span>
                </a>
            </li>
            <li>
                <a href="#" id="logout-button">
                    <i class="fas fa-sign-out-alt"></i>
                    <span class="menu-text">로그아웃</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- 메인 콘텐츠 -->
    <div id="main-content">
        <div class="main-header">
            <h1 class="page-title">
                <i class="fas fa-envelope"></i> 문의 관리
            </h1>
            <div class="action-buttons">
                <button id="refresh-button" class="btn btn-primary">
                    <i class="fas fa-sync-alt"></i> 새로고침
                </button>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h3>문의 목록</h3>
            </div>
            <div class="card-body">
                <!-- 필터 -->
                <div class="filter-row">
                    <div class="filter-item">
                        <label for="status-filter">상태</label>
                        <select id="status-filter" class="form-control">
                            <option value="">모든 상태</option>
                            <option value="new">신규</option>
                            <option value="inprogress">처리중</option>
                            <option value="resolved">해결됨</option>
                        </select>
                    </div>
                    <div class="filter-item">
                        <label for="date-filter">날짜</label>
                        <input type="date" id="date-filter" class="form-control">
                    </div>
                    <div class="filter-item">
                        <label for="search-filter">검색</label>
                        <input type="text" id="search-filter" class="form-control" placeholder="이름 또는 제목으로 검색">
                    </div>
                </div>
                
                <!-- 테이블 -->
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th width="5%">번호</th>
                                <th width="15%">날짜</th>
                                <th width="15%">이름</th>
                                <th width="30%">제목</th>
                                <th width="15%">상태</th>
                                <th width="20%">관리</th>
                            </tr>
                        </thead>
                        <tbody id="inquiry-list">
                            <!-- 문의 목록 데이터 -->
                            <tr>
                                <td>1</td>
                                <td>2023-06-15</td>
                                <td>홍길동</td>
                                <td>서비스 문의입니다</td>
                                <td><span class="status-badge status-new">신규</span></td>
                                <td class="table-action">
                                    <button class="btn view-btn"><i class="fas fa-eye"></i> 보기</button>
                                    <button class="btn delete-btn"><i class="fas fa-trash"></i> 삭제</button>
                                </td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>2023-06-14</td>
                                <td>김철수</td>
                                <td>견적 문의드립니다</td>
                                <td><span class="status-badge status-inprogress">처리중</span></td>
                                <td class="table-action">
                                    <button class="btn view-btn"><i class="fas fa-eye"></i> 보기</button>
                                    <button class="btn delete-btn"><i class="fas fa-trash"></i> 삭제</button>
                                </td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>2023-06-12</td>
                                <td>이영희</td>
                                <td>견적 요청합니다</td>
                                <td><span class="status-badge status-resolved">해결됨</span></td>
                                <td class="table-action">
                                    <button class="btn view-btn"><i class="fas fa-eye"></i> 보기</button>
                                    <button class="btn delete-btn"><i class="fas fa-trash"></i> 삭제</button>
                                </td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>2023-06-10</td>
                                <td>박민수</td>
                                <td>A/S 문의드립니다</td>
                                <td><span class="status-badge status-resolved">해결됨</span></td>
                                <td class="table-action">
                                    <button class="btn view-btn"><i class="fas fa-eye"></i> 보기</button>
                                    <button class="btn delete-btn"><i class="fas fa-trash"></i> 삭제</button>
                                </td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>2023-06-08</td>
                                <td>최지훈</td>
                                <td>비용 문의</td>
                                <td><span class="status-badge status-new">신규</span></td>
                                <td class="table-action">
                                    <button class="btn view-btn"><i class="fas fa-eye"></i> 보기</button>
                                    <button class="btn delete-btn"><i class="fas fa-trash"></i> 삭제</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- 페이지네이션 -->
                <ul class="pagination">
                    <li><a href="#"><i class="fas fa-angle-left"></i></a></li>
                    <li><a href="#" class="active">1</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">3</a></li>
                    <li><a href="#"><i class="fas fa-angle-right"></i></a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 문의 상세 보기 모달 -->
    <div class="modal-backdrop" id="inquiry-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-title">문의 상세 보기</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <!-- 문의 상세 정보 -->
                <div class="inquiry-details">
                    <div class="inquiry-meta">
                        <div class="meta-item">
                            <div class="meta-label">문의 번호</div>
                            <div id="inquiry-id">1</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">날짜</div>
                            <div id="inquiry-date">2023-06-15</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">이름</div>
                            <div id="inquiry-name">홍길동</div>
                        </div>
                        <div class="meta-item">
                            <div class="meta-label">상태</div>
                            <div id="inquiry-status">
                                <select id="status-select" class="form-control">
                                    <option value="new">신규</option>
                                    <option value="inprogress">처리중</option>
                                    <option value="resolved">해결됨</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="meta-item">
                        <div class="meta-label">제목</div>
                        <div id="inquiry-title">서비스 문의입니다</div>
                    </div>
                    
                    <div class="meta-item">
                        <div class="meta-label">내용</div>
                        <div id="inquiry-content" class="inquiry-content">
                            안녕하세요. 서비스에 대해 문의드립니다. 자세한 설명과 견적을 알고 싶습니다.
                        </div>
                    </div>
                    
                    <div class="meta-item">
                        <div class="meta-label">첨부 이미지</div>
                        <div id="inquiry-images" class="inquiry-images">
                            <img src="https://via.placeholder.com/150" alt="첨부 이미지" class="inquiry-image">
                            <img src="https://via.placeholder.com/150" alt="첨부 이미지" class="inquiry-image">
                        </div>
                    </div>
                </div>
                
                <!-- 응답 양식 -->
                <div class="inquiry-response">
                    <h4>응답</h4>
                    <form class="response-form">
                        <div class="form-group">
                            <label for="response-text">답변 내용</label>
                            <textarea id="response-text" class="form-control" placeholder="답변을 입력하세요..."></textarea>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button id="save-response" class="btn btn-primary">답변 저장</button>
                <button id="modal-cancel" class="btn btn-secondary">취소</button>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/admin.js"></script>
    <script>
        // 문의 데이터 (실제로는 서버에서 받아올 데이터)
        const inquiries = [
            {
                id: 1,
                date: '2023-06-15',
                name: '홍길동',
                title: '서비스 문의입니다',
                content: '안녕하세요. 서비스에 대해 문의드립니다. 자세한 설명과 견적을 알고 싶습니다.',
                status: 'new',
                images: ['https://via.placeholder.com/150', 'https://via.placeholder.com/150'],
                response: ''
            },
            {
                id: 2,
                date: '2023-06-14',
                name: '김철수',
                title: '견적 문의드립니다',
                content: '안녕하세요. 견적 문의드립니다. 자세한 비용 안내 부탁드립니다.',
                status: 'inprogress',
                images: ['https://via.placeholder.com/150'],
                response: '안녕하세요. 현재 검토 중이며 빠른 시일 내에 답변드리겠습니다.'
            },
            {
                id: 3,
                date: '2023-06-12',
                name: '이영희',
                title: '견적 요청합니다',
                content: '다음 서비스에 대한 견적을 요청합니다. 1. 시공 2. 설치 3. A/S',
                status: 'resolved',
                images: [],
                response: '안녕하세요. 요청하신 견적 정보를 이메일로 발송해드렸습니다. 감사합니다.'
            },
            {
                id: 4,
                date: '2023-06-10',
                name: '박민수',
                title: 'A/S 문의드립니다',
                content: '설치 후 약 1개월이 지났는데 문제가 발생했습니다. A/S 가능한가요?',
                status: 'resolved',
                images: ['https://via.placeholder.com/150'],
                response: '안녕하세요. A/S 접수되었습니다. 내일 오전에 기사가 방문 예정입니다.'
            },
            {
                id: 5,
                date: '2023-06-08',
                name: '최지훈',
                title: '비용 문의',
                content: '기본 서비스 비용이 얼마인지 궁금합니다.',
                status: 'new',
                images: [],
                response: ''
            }
        ];
        
        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', function() {
            // 로그인 체크
            if (typeof checkAdminAuth === 'function') {
                checkAdminAuth();
            }
            
            // 모달 열기
            const viewButtons = document.querySelectorAll('.view-btn');
            viewButtons.forEach((button, index) => {
                button.addEventListener('click', function() {
                    openInquiryModal(inquiries[index]);
                });
            });
            
            // 모달 닫기
            document.getElementById('modal-close').addEventListener('click', closeModal);
            document.getElementById('modal-cancel').addEventListener('click', closeModal);
            
            // 모달 외부 클릭 시 닫기
            document.getElementById('inquiry-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });
            
            // 답변 저장
            document.getElementById('save-response').addEventListener('click', function() {
                const response = document.getElementById('response-text').value;
                const status = document.getElementById('status-select').value;
                
                if (!response.trim()) {
                    alert('답변 내용을 입력해주세요.');
                    return;
                }
                
                // 실제로는 서버에 저장 로직이 들어갑니다.
                alert('답변이 저장되었습니다.');
                
                // 목록 업데이트 (실제로는 서버에서 데이터를 다시 불러옵니다)
                const currentId = parseInt(document.getElementById('inquiry-id').textContent);
                const inquiry = inquiries.find(item => item.id === currentId);
                
                if (inquiry) {
                    inquiry.response = response;
                    inquiry.status = status;
                    
                    // 상태 변경 반영
                    const statusCell = document.querySelector(`#inquiry-list tr:nth-child(${currentId}) td:nth-child(5)`);
                    if (statusCell) {
                        const statusText = status === 'new' ? '신규' : (status === 'inprogress' ? '처리중' : '해결됨');
                        const statusClass = `status-badge status-${status}`;
                        statusCell.innerHTML = `<span class="${statusClass}">${statusText}</span>`;
                    }
                }
                
                closeModal();
            });
            
            // 삭제 버튼
            const deleteButtons = document.querySelectorAll('.delete-btn');
            deleteButtons.forEach((button, index) => {
                button.addEventListener('click', function() {
                    if (confirm('정말 이 문의를 삭제하시겠습니까?')) {
                        // 실제로는 서버에 삭제 요청을 보냅니다.
                        alert('문의가 삭제되었습니다.');
                        
                        // 화면에서 행 제거 (실제로는 서버에서 데이터를 다시 불러옵니다)
                        const row = button.closest('tr');
                        if (row) {
                            row.remove();
                        }
                    }
                });
            });
            
            // 필터 이벤트 (실제로는 서버에 필터링된 데이터를 요청합니다)
            document.getElementById('status-filter').addEventListener('change', applyFilters);
            document.getElementById('date-filter').addEventListener('change', applyFilters);
            document.getElementById('search-filter').addEventListener('input', applyFilters);
            
            // 새로고침 버튼
            document.getElementById('refresh-button').addEventListener('click', function() {
                // 실제로는 서버에서 최신 데이터를 다시 불러옵니다.
                alert('문의 목록을 새로고침합니다.');
                
                // 필터 초기화
                document.getElementById('status-filter').value = '';
                document.getElementById('date-filter').value = '';
                document.getElementById('search-filter').value = '';
                
                // 목록 다시 불러오기
                // loadInquiries(); // 실제 구현 필요
            });
        });
        
        // 모달 열기 함수
        function openInquiryModal(inquiry) {
            document.getElementById('inquiry-id').textContent = inquiry.id;
            document.getElementById('inquiry-date').textContent = inquiry.date;
            document.getElementById('inquiry-name').textContent = inquiry.name;
            document.getElementById('inquiry-title').textContent = inquiry.title;
            document.getElementById('inquiry-content').textContent = inquiry.content;
            
            // 상태 설정
            document.getElementById('status-select').value = inquiry.status;
            
            // 이미지 설정
            const imagesContainer = document.getElementById('inquiry-images');
            imagesContainer.innerHTML = '';
            
            if (inquiry.images && inquiry.images.length > 0) {
                inquiry.images.forEach(src => {
                    const img = document.createElement('img');
                    img.src = src;
                    img.alt = '첨부 이미지';
                    img.className = 'inquiry-image';
                    imagesContainer.appendChild(img);
                });
            } else {
                imagesContainer.innerHTML = '<p>첨부된 이미지가 없습니다.</p>';
            }
            
            // 응답 내용 설정
            document.getElementById('response-text').value = inquiry.response || '';
            
            // 모달 표시
            document.getElementById('inquiry-modal').style.display = 'flex';
        }
        
        // 모달 닫기 함수
        function closeModal() {
            document.getElementById('inquiry-modal').style.display = 'none';
        }
        
        // 필터 적용 함수 (실제로는 서버에 필터링된 데이터를 요청합니다)
        function applyFilters() {
            const statusFilter = document.getElementById('status-filter').value;
            const dateFilter = document.getElementById('date-filter').value;
            const searchFilter = document.getElementById('search-filter').value.toLowerCase();
            
            console.log('필터 적용:', { statusFilter, dateFilter, searchFilter });
            
            // 실제로는 서버에 필터링된 데이터를 요청하고 목록을 다시 그립니다.
            // 여기서는 간단히 콘솔 로그만 출력합니다.
        }
    </script>
</body>
</html> 